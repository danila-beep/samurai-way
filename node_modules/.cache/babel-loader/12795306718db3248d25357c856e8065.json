{"ast":null,"code":"var _jsxFileName = \"/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/src/pages/UsersPage/UsersPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport s from \"./usersPage.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { currentPageChangerAC, followUserTC, getUsersTC, nextPagesPaginationAC, previousPagesPaginationAC, unfollowUserTC } from \"../../store/reducers/usersReducer\";\nimport { UilArrowLeft, UilArrowRight } from \"@iconscout/react-unicons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UsersPage = () => {\n  _s();\n\n  //getting data from redux\n  const usersPageData = useSelector(state => state.usersPage);\n  const dispatch = useDispatch(); //API \"get\" call\n\n  useEffect(() => {\n    dispatch(getUsersTC(usersPageData.currentPage, usersPageData.pageSize));\n  }, [dispatch, usersPageData.currentPage, usersPageData.pageSize]);\n  const usersForRender = usersPageData.users.items.map(user => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userPageUserCardContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.photos.large ? user.photos.large : \"https://uxwing.com/wp-content/themes/uxwing/download/peoples-avatars/corporate-user-icon.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.userPageCardButtonsContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.followButton,\n          onClick: () => followButtonHandler(user.followed, user.id),\n          disabled: user.followed ? true : false,\n          children: \"Follow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.unfollowButton,\n          onClick: () => unfollowButtonHandler(user.followed, user.id),\n          disabled: user.followed ? false : true,\n          children: \"Unfollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }); //pagination\n\n  const pagesForRender = usersPageData.paginationCount.map(page => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userPagePaginationItem,\n      onClick: () => changePageHandler(page),\n      children: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  });\n  const pagesCount = Math.ceil(usersPageData.totalUsersCount / usersPageData.pageSize);\n\n  const changePageHandler = page => {\n    dispatch(currentPageChangerAC(page));\n  };\n\n  const nextPages = () => {\n    dispatch(nextPagesPaginationAC(pagesCount));\n  };\n\n  const previousPages = () => {\n    dispatch(previousPagesPaginationAC(pagesCount));\n  }; //follow / unfollow\n\n\n  const followButtonHandler = (isFollowed, userId) => {\n    dispatch(followUserTC(userId));\n  };\n\n  const unfollowButtonHandler = (isFollowed, userId) => {\n    dispatch(unfollowUserTC(userId));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.userPageContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userPageUsersListContainer,\n      children: usersForRender\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userPagePaginationContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.userPagePaginationChangeButton,\n        onClick: previousPages,\n        children: /*#__PURE__*/_jsxDEV(UilArrowLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), pagesForRender, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.userPagePaginationChangeButton,\n        onClick: nextPages,\n        children: /*#__PURE__*/_jsxDEV(UilArrowRight, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UsersPage, \"Gk/M3zRD8a3uFewu5WqVluEnTh4=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = UsersPage;\nexport default UsersPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersPage\");","map":{"version":3,"sources":["/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/src/pages/UsersPage/UsersPage.tsx"],"names":["React","useEffect","s","useDispatch","useSelector","currentPageChangerAC","followUserTC","getUsersTC","nextPagesPaginationAC","previousPagesPaginationAC","unfollowUserTC","UilArrowLeft","UilArrowRight","UsersPage","usersPageData","state","usersPage","dispatch","currentPage","pageSize","usersForRender","users","items","map","user","userPageUserCardContainer","photos","large","name","userPageCardButtonsContainer","followButton","followButtonHandler","followed","id","unfollowButton","unfollowButtonHandler","pagesForRender","paginationCount","page","userPagePaginationItem","changePageHandler","pagesCount","Math","ceil","totalUsersCount","nextPages","previousPages","isFollowed","userId","userPageContainer","userPageUsersListContainer","userPagePaginationContainer","userPagePaginationChangeButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport s from \"./usersPage.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"../../store/store\";\nimport {\n  UserPageType,\n  currentPageChangerAC,\n  currentPageChengerAC,\n  followUserAC,\n  followUserTC,\n  getUsersTC,\n  nextPagesPaginationAC,\n  previousPagesPaginationAC,\n  setTotalUsersCount,\n  setUsersAC,\n  unfollowUserAC,\n  unfollowUserTC,\n} from \"../../store/reducers/usersReducer\";\nimport { Button } from \"../../shared/Button\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { UilArrowLeft, UilArrowRight } from \"@iconscout/react-unicons\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSessionStorage } from \"usehooks-ts\";\nimport Preloader from \"../../shared/Preloader\";\n\nconst UsersPage = () => {\n  //getting data from redux\n  const usersPageData = useSelector<RootState, UserPageType>(\n    (state) => state.usersPage\n  );\n  const dispatch = useDispatch();\n\n  //API \"get\" call\n  useEffect(() => {\n    dispatch(getUsersTC(usersPageData.currentPage, usersPageData.pageSize));\n  }, [dispatch, usersPageData.currentPage, usersPageData.pageSize]);\n\n  const usersForRender = usersPageData.users.items.map((user) => {\n    return (\n      <div className={s.userPageUserCardContainer}>\n        <img\n          src={\n            user.photos.large\n              ? user.photos.large\n              : \"https://uxwing.com/wp-content/themes/uxwing/download/peoples-avatars/corporate-user-icon.png\"\n          }\n          alt=\"\"\n        />\n        <h3>{user.name}</h3>\n        <div className={s.userPageCardButtonsContainer}>\n          <button\n            className={s.followButton}\n            onClick={() => followButtonHandler(user.followed, user.id)}\n            disabled={user.followed ? true : false}\n          >\n            Follow\n          </button>\n          <button\n            className={s.unfollowButton}\n            onClick={() => unfollowButtonHandler(user.followed, user.id)}\n            disabled={user.followed ? false : true}\n          >\n            Unfollow\n          </button>\n        </div>\n      </div>\n    );\n  });\n\n  //pagination\n  const pagesForRender = usersPageData.paginationCount.map((page) => {\n    return <div className={s.userPagePaginationItem} onClick={() => changePageHandler(page)}>{page}</div>;\n  });\n\n  const pagesCount = Math.ceil(\n    usersPageData.totalUsersCount / usersPageData.pageSize\n  );\n\n  const changePageHandler = (page: number) => {\n    dispatch(currentPageChangerAC(page))\n  }\n\n  const nextPages = () => {\n    dispatch(nextPagesPaginationAC(pagesCount));\n  };\n  const previousPages = () => {\n    dispatch(previousPagesPaginationAC(pagesCount));\n  };\n\n  //follow / unfollow\n  const followButtonHandler = (isFollowed: boolean, userId: number) => {\n    dispatch(followUserTC(userId));\n  };\n  const unfollowButtonHandler = (isFollowed: boolean, userId: number) => {\n    dispatch(unfollowUserTC(userId));\n  };\n\n  return (\n    <div className={s.userPageContainer}>\n      <div className={s.userPageUsersListContainer}>{usersForRender}</div>\n      <div className={s.userPagePaginationContainer}>\n        <div className={s.userPagePaginationChangeButton} onClick={previousPages}>\n          <UilArrowLeft />\n        </div>\n        {pagesForRender}\n        <div className={s.userPagePaginationChangeButton} onClick={nextPages}>\n          <UilArrowRight />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UsersPage;\n"]},"metadata":{},"sourceType":"module"}