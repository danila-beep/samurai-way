{"ast":null,"code":"const usersState = {\n  users: {\n    items: [],\n    totalUsersCount: 0,\n    error: null\n  },\n  pageSize: 6,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false\n};\n\nconst usersReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : usersState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"usersPage/followUser\":\n      return { ...state,\n        users: { ...state.users,\n          items: [...state.users.items.map(user => {\n            if (user.id === action.userId) {\n              return { ...user,\n                followed: true\n              };\n            } else {\n              return { ...user\n              };\n            }\n          })]\n        }\n      };\n\n    case \"usersPage/unFollowUser\":\n      return { ...state,\n        users: state.users.items.map(user => {\n          if (user.id === action.userId) {\n            return { ...user,\n              isFollowed: false\n            };\n          }\n\n          return { ...user\n          };\n        })\n      };\n\n    case \"usersPage/setUsers\":\n      return { ...state,\n        users: action.users\n      };\n\n    case \"usersPage/changeCurrentPage\":\n      return { ...state,\n        currentPage: action.value\n      };\n\n    case \"usersPage/setTotalUsersCount\":\n      return { ...state,\n        totalUsersCount: action.value\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const followUserAC = userId => {\n  return {\n    type: \"usersPage/followUser\",\n    userId\n  };\n};\nexport const unfollowUserAC = userId => {\n  return {\n    type: \"usersPage/unFollowUser\",\n    userId\n  };\n};\nexport const setUsersAC = users => {\n  return {\n    type: \"usersPage/setUsers\",\n    users\n  };\n};\nexport const currentPageChengerAC = value => {\n  return {\n    type: \"usersPage/changeCurrentPage\",\n    value\n  };\n};\nexport const setTotalUsersCount = value => {\n  return {\n    type: \"usersPage/setTotalUsersCount\",\n    value\n  };\n};\nexport default usersReducer;","map":{"version":3,"sources":["/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/src/store/reducers/usersReducer.ts"],"names":["usersState","users","items","totalUsersCount","error","pageSize","currentPage","isFetching","usersReducer","state","action","type","map","user","id","userId","followed","isFollowed","value","followUserAC","unfollowUserAC","setUsersAC","currentPageChengerAC","setTotalUsersCount"],"mappings":"AAgCA,MAAMA,UAAU,GAAG;AACjBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE,EADF;AAELC,IAAAA,eAAe,EAAE,CAFZ;AAGLC,IAAAA,KAAK,EAAE;AAHF,GADU;AAMjBC,EAAAA,QAAQ,EAAE,CANO;AAOjBF,EAAAA,eAAe,EAAE,CAPA;AAQjBG,EAAAA,WAAW,EAAE,CARI;AASjBC,EAAAA,UAAU,EAAE;AATK,CAAnB;;AAYA,MAAMC,YAAY,GAAG,YAGhB;AAAA,MAFHC,KAEG,uEAFmBT,UAEnB;AAAA,MADHU,MACG;;AACH,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,sBAAL;AACE,aAAO,EACL,GAAGF,KADE;AAELR,QAAAA,KAAK,EAAE,EACL,GAAGQ,KAAK,CAACR,KADJ;AAELC,UAAAA,KAAK,EAAE,CACL,GAAGO,KAAK,CAACR,KAAN,CAAYC,KAAZ,CAAkBU,GAAlB,CAAuBC,IAAD,IAAU;AACjC,gBAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,MAAvB,EAA+B;AAC7B,qBAAO,EAAE,GAAGF,IAAL;AAAWG,gBAAAA,QAAQ,EAAE;AAArB,eAAP;AACD,aAFD,MAEO;AACL,qBAAO,EAAE,GAAGH;AAAL,eAAP;AACD;AACF,WANE,CADE;AAFF;AAFF,OAAP;;AAeF,SAAK,wBAAL;AACE,aAAO,EACL,GAAGJ,KADE;AAELR,QAAAA,KAAK,EAAEQ,KAAK,CAACR,KAAN,CAAYC,KAAZ,CAAkBU,GAAlB,CAAuBC,IAAD,IAAoB;AAC/C,cAAIA,IAAI,CAACC,EAAL,KAAYJ,MAAM,CAACK,MAAvB,EAA+B;AAC7B,mBAAO,EAAE,GAAGF,IAAL;AAAWI,cAAAA,UAAU,EAAE;AAAvB,aAAP;AACD;;AACD,iBAAO,EAAE,GAAGJ;AAAL,WAAP;AACD,SALM;AAFF,OAAP;;AASF,SAAK,oBAAL;AACE,aAAO,EAAE,GAAGJ,KAAL;AAAYR,QAAAA,KAAK,EAAES,MAAM,CAACT;AAA1B,OAAP;;AACF,SAAK,6BAAL;AACE,aAAO,EAAE,GAAGQ,KAAL;AAAYH,QAAAA,WAAW,EAAEI,MAAM,CAACQ;AAAhC,OAAP;;AACF,SAAK,8BAAL;AACE,aAAO,EAAE,GAAGT,KAAL;AAAYN,QAAAA,eAAe,EAAEO,MAAM,CAACQ;AAApC,OAAP;;AACF;AACE,aAAOT,KAAP;AAlCJ;AAoCD,CAxCD;;AA0CA,OAAO,MAAMU,YAAY,GAAIJ,MAAD,IAAoB;AAC9C,SAAO;AAAEJ,IAAAA,IAAI,EAAE,sBAAR;AAAgCI,IAAAA;AAAhC,GAAP;AACD,CAFM;AAGP,OAAO,MAAMK,cAAc,GAAIL,MAAD,IAAoB;AAChD,SAAO;AAAEJ,IAAAA,IAAI,EAAE,wBAAR;AAAkCI,IAAAA;AAAlC,GAAP;AACD,CAFM;AAGP,OAAO,MAAMM,UAAU,GAAIpB,KAAD,IAA0B;AAClD,SAAO;AAAEU,IAAAA,IAAI,EAAE,oBAAR;AAA8BV,IAAAA;AAA9B,GAAP;AACD,CAFM;AAGP,OAAO,MAAMqB,oBAAoB,GAAIJ,KAAD,IAAmB;AACrD,SAAO;AAAEP,IAAAA,IAAI,EAAE,6BAAR;AAAuCO,IAAAA;AAAvC,GAAP;AACD,CAFM;AAGP,OAAO,MAAMK,kBAAkB,GAAIL,KAAD,IAAmB;AACnD,SAAO;AAAEP,IAAAA,IAAI,EAAE,8BAAR;AAAwCO,IAAAA;AAAxC,GAAP;AACD,CAFM;AAIP,eAAeV,YAAf","sourcesContent":["export type UserPageType = {\n  users: UsersListType;\n  pageSize: number;\n  totalUsersCount: number;\n  currentPage: number;\n  isFetching: boolean;\n};\n\nexport type UsersListType = {\n  items: UserType[];\n  totalUsersCount: number;\n  error: string | null;\n};\n\nexport type UserType = {\n  name: string;\n  id: number;\n  photos: {\n    small: string | null;\n    large: string | null;\n  };\n  status: string | null;\n  followed: boolean;\n};\n\ntype ActionsType =\n  | ReturnType<typeof followUserAC>\n  | ReturnType<typeof unfollowUserAC>\n  | ReturnType<typeof setUsersAC>\n  | ReturnType<typeof currentPageChengerAC>\n  | ReturnType<typeof setTotalUsersCount>;\n\nconst usersState = {\n  users: {\n    items: [],\n    totalUsersCount: 0,\n    error: null,\n  },\n  pageSize: 6,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n};\n\nconst usersReducer = (\n  state: UserPageType = usersState,\n  action: ActionsType\n) => {\n  switch (action.type) {\n    case \"usersPage/followUser\":\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          items: [\n            ...state.users.items.map((user) => {\n              if (user.id === action.userId) {\n                return { ...user, followed: true };\n              } else {\n                return { ...user };\n              }\n            }),\n          ],\n        },\n      };\n    case \"usersPage/unFollowUser\":\n      return {\n        ...state,\n        users: state.users.items.map((user: UserType) => {\n          if (user.id === action.userId) {\n            return { ...user, isFollowed: false };\n          }\n          return { ...user };\n        }),\n      };\n    case \"usersPage/setUsers\":\n      return { ...state, users: action.users };\n    case \"usersPage/changeCurrentPage\":\n      return { ...state, currentPage: action.value };\n    case \"usersPage/setTotalUsersCount\":\n      return { ...state, totalUsersCount: action.value };\n    default:\n      return state;\n  }\n};\n\nexport const followUserAC = (userId: number) => {\n  return { type: \"usersPage/followUser\", userId } as const;\n};\nexport const unfollowUserAC = (userId: number) => {\n  return { type: \"usersPage/unFollowUser\", userId } as const;\n};\nexport const setUsersAC = (users: UsersListType) => {\n  return { type: \"usersPage/setUsers\", users } as const;\n};\nexport const currentPageChengerAC = (value: number) => {\n  return { type: \"usersPage/changeCurrentPage\", value } as const;\n};\nexport const setTotalUsersCount = (value: number) => {\n  return { type: \"usersPage/setTotalUsersCount\", value } as const;\n};\n\nexport default usersReducer;\n"]},"metadata":{},"sourceType":"module"}