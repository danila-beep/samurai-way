{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nvar _templateObject;\n\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport isUndefined from 'lodash/isUndefined';\nimport Input from '../Input';\nimport FormErrorMessage from '../FormErrorMessage';\nimport { useClassNames } from '../utils';\nimport FormContext, { FormValueContext } from '../Form/FormContext';\nimport { FormGroupContext } from '../FormGroup/FormGroup';\nimport { useWillUnmount } from '../utils';\nimport useRegisterModel from './useRegisterModel';\nimport Toggle from '../Toggle';\n/**\n * Props that FormControl passes to its accepter\n */\n\nvar FormControl = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _accepterProps;\n\n  var _useContext = useContext(FormContext),\n      readOnlyContext = _useContext.readOnly,\n      plaintextContext = _useContext.plaintext,\n      disabledContext = _useContext.disabled,\n      errorFromContext = _useContext.errorFromContext,\n      _useContext$formDefau = _useContext.formDefaultValue,\n      formDefaultValue = _useContext$formDefau === void 0 ? {} : _useContext$formDefau,\n      formError = _useContext.formError,\n      removeFieldValue = _useContext.removeFieldValue,\n      removeFieldError = _useContext.removeFieldError,\n      pushFieldRule = _useContext.pushFieldRule,\n      removeFieldRule = _useContext.removeFieldRule,\n      onFieldChange = _useContext.onFieldChange,\n      onFieldError = _useContext.onFieldError,\n      onFieldSuccess = _useContext.onFieldSuccess,\n      getCombinedModel = _useContext.getCombinedModel,\n      contextCheckTrigger = _useContext.checkTrigger;\n\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$accepter = props.accepter,\n      AccepterComponent = _props$accepter === void 0 ? Input : _props$accepter,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'form-control' : _props$classPrefix,\n      checkAsync = props.checkAsync,\n      checkTrigger = props.checkTrigger,\n      _props$errorPlacement = props.errorPlacement,\n      errorPlacement = _props$errorPlacement === void 0 ? 'bottomStart' : _props$errorPlacement,\n      errorMessage = props.errorMessage,\n      name = props.name,\n      value = props.value,\n      _props$readOnly = props.readOnly,\n      readOnly = _props$readOnly === void 0 ? readOnlyContext : _props$readOnly,\n      _props$plaintext = props.plaintext,\n      plaintext = _props$plaintext === void 0 ? plaintextContext : _props$plaintext,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? disabledContext : _props$disabled,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      defaultValue = props.defaultValue,\n      _props$shouldResetWit = props.shouldResetWithUnmount,\n      shouldResetWithUnmount = _props$shouldResetWit === void 0 ? false : _props$shouldResetWit,\n      rule = props.rule,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"accepter\", \"classPrefix\", \"checkAsync\", \"checkTrigger\", \"errorPlacement\", \"errorMessage\", \"name\", \"value\", \"readOnly\", \"plaintext\", \"disabled\", \"onChange\", \"onBlur\", \"defaultValue\", \"shouldResetWithUnmount\", \"rule\"]);\n\n  var _useContext2 = useContext(FormGroupContext),\n      controlId = _useContext2.controlId;\n\n  if (!onFieldChange) {\n    throw new Error(\"\\n      <FormControl> must be inside a component decorated with <Form>.\\n      And need to update React to 16.6.0 +.\\n    \");\n  }\n\n  useRegisterModel(name, pushFieldRule, removeFieldRule, rule);\n  useWillUnmount(function () {\n    if (shouldResetWithUnmount) {\n      removeFieldValue === null || removeFieldValue === void 0 ? void 0 : removeFieldValue(name);\n      removeFieldError === null || removeFieldError === void 0 ? void 0 : removeFieldError(name);\n    }\n  });\n  var trigger = checkTrigger || contextCheckTrigger;\n  var formValue = useContext(FormValueContext);\n  var val = isUndefined(value) ? formValue === null || formValue === void 0 ? void 0 : formValue[name] : value;\n\n  var _useClassNames = useClassNames(classPrefix),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      prefix = _useClassNames.prefix;\n\n  var classes = withClassPrefix('wrapper');\n\n  var handleFieldChange = function handleFieldChange(value, event) {\n    handleFieldCheck(value, trigger === 'change');\n    onFieldChange === null || onFieldChange === void 0 ? void 0 : onFieldChange(name, value, event);\n    onChange === null || onChange === void 0 ? void 0 : onChange(value, event);\n  };\n\n  var handleFieldBlur = function handleFieldBlur(event) {\n    handleFieldCheck(val, trigger === 'blur');\n    onBlur === null || onBlur === void 0 ? void 0 : onBlur(event);\n  };\n\n  var handleFieldCheck = function handleFieldCheck(value, isCheckTrigger) {\n    var _extends2;\n\n    var callbackEvents = function callbackEvents(checkResult) {\n      // The relevant event is triggered only when the inspection is allowed.\n      if (isCheckTrigger) {\n        if (checkResult.hasError) {\n          onFieldError === null || onFieldError === void 0 ? void 0 : onFieldError(name, (checkResult === null || checkResult === void 0 ? void 0 : checkResult.errorMessage) || checkResult);\n        } else {\n          onFieldSuccess === null || onFieldSuccess === void 0 ? void 0 : onFieldSuccess(name);\n        }\n      }\n\n      return checkResult;\n    };\n\n    var nextFormValue = _extends({}, formValue, (_extends2 = {}, _extends2[name] = value, _extends2));\n\n    var model = getCombinedModel();\n\n    if (checkAsync) {\n      return model === null || model === void 0 ? void 0 : model.checkForFieldAsync(name, nextFormValue).then(function (checkResult) {\n        return callbackEvents(checkResult);\n      });\n    }\n\n    return Promise.resolve(callbackEvents(model === null || model === void 0 ? void 0 : model.checkForField(name, nextFormValue)));\n  };\n\n  var messageNode = null;\n\n  if (!isUndefined(errorMessage)) {\n    messageNode = errorMessage;\n  } else if (errorFromContext) {\n    var fieldError = formError === null || formError === void 0 ? void 0 : formError[name];\n\n    if (typeof fieldError === 'string' || !(fieldError !== null && fieldError !== void 0 && fieldError.array) && !(fieldError !== null && fieldError !== void 0 && fieldError.object) && fieldError !== null && fieldError !== void 0 && fieldError.hasError) {\n      messageNode = fieldError;\n    }\n  }\n\n  var ariaDescribedby = controlId ? controlId + \"-help-text\" : null;\n  var fieldHasError = Boolean(messageNode);\n  var ariaErrormessage = fieldHasError && controlId ? controlId + \"-error-message\" : undefined;\n  var valueKey = 'value';\n  var defaultValueKey = 'defaultValue'; // Toggle component is a special case that uses `checked` and `defaultChecked` instead of `value` and `defaultValue` props.\n\n  if (AccepterComponent === Toggle) {\n    valueKey = 'checked';\n    defaultValueKey = 'defaultChecked';\n  }\n\n  var accepterProps = (_accepterProps = {}, _accepterProps[valueKey] = val, _accepterProps[defaultValueKey] = defaultValue !== null && defaultValue !== void 0 ? defaultValue : formDefaultValue[name], _accepterProps);\n  return /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    ref: ref\n  }, /*#__PURE__*/React.createElement(AccepterComponent, _extends({\n    id: controlId,\n    \"aria-labelledby\": controlId ? controlId + \"-control-label\" : null,\n    \"aria-describedby\": ariaDescribedby,\n    \"aria-invalid\": fieldHasError || undefined,\n    \"aria-errormessage\": ariaErrormessage\n  }, accepterProps, rest, {\n    readOnly: readOnly,\n    plaintext: plaintext,\n    disabled: disabled,\n    name: name,\n    onChange: handleFieldChange,\n    onBlur: handleFieldBlur\n  })), /*#__PURE__*/React.createElement(FormErrorMessage, {\n    id: controlId + \"-error-message\",\n    role: \"alert\",\n    \"aria-relevant\": \"all\",\n    show: !!messageNode,\n    className: prefix(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"message-wrapper\"]))),\n    placement: errorPlacement\n  }, messageNode));\n});\nFormControl.displayName = 'FormControl';\nFormControl.propTypes = {\n  name: PropTypes.string.isRequired,\n  checkTrigger: PropTypes.oneOf(['change', 'blur', 'none']),\n  checkAsync: PropTypes.bool,\n  accepter: PropTypes.any,\n  onChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  classPrefix: PropTypes.string,\n  errorMessage: PropTypes.node,\n  errorPlacement: PropTypes.oneOf(['bottomStart', 'bottomEnd', 'topStart', 'topEnd', 'leftStart', 'rightStart', 'leftEnd', 'rightEnd']),\n  value: PropTypes.any\n};\nexport default FormControl;","map":{"version":3,"sources":["/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/node_modules/rsuite/esm/FormControl/FormControl.js"],"names":["_taggedTemplateLiteralLoose","_extends","_objectWithoutPropertiesLoose","_templateObject","React","useContext","PropTypes","isUndefined","Input","FormErrorMessage","useClassNames","FormContext","FormValueContext","FormGroupContext","useWillUnmount","useRegisterModel","Toggle","FormControl","forwardRef","props","ref","_accepterProps","_useContext","readOnlyContext","readOnly","plaintextContext","plaintext","disabledContext","disabled","errorFromContext","_useContext$formDefau","formDefaultValue","formError","removeFieldValue","removeFieldError","pushFieldRule","removeFieldRule","onFieldChange","onFieldError","onFieldSuccess","getCombinedModel","contextCheckTrigger","checkTrigger","_props$as","as","Component","_props$accepter","accepter","AccepterComponent","_props$classPrefix","classPrefix","checkAsync","_props$errorPlacement","errorPlacement","errorMessage","name","value","_props$readOnly","_props$plaintext","_props$disabled","onChange","onBlur","defaultValue","_props$shouldResetWit","shouldResetWithUnmount","rule","rest","_useContext2","controlId","Error","trigger","formValue","val","_useClassNames","withClassPrefix","prefix","classes","handleFieldChange","event","handleFieldCheck","handleFieldBlur","isCheckTrigger","_extends2","callbackEvents","checkResult","hasError","nextFormValue","model","checkForFieldAsync","then","Promise","resolve","checkForField","messageNode","fieldError","array","object","ariaDescribedby","fieldHasError","Boolean","ariaErrormessage","undefined","valueKey","defaultValueKey","accepterProps","createElement","className","id","role","show","placement","displayName","propTypes","string","isRequired","oneOf","bool","any","func","node"],"mappings":"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","sourcesContent":["import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/esm/taggedTemplateLiteralLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nvar _templateObject;\n\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport isUndefined from 'lodash/isUndefined';\nimport Input from '../Input';\nimport FormErrorMessage from '../FormErrorMessage';\nimport { useClassNames } from '../utils';\nimport FormContext, { FormValueContext } from '../Form/FormContext';\nimport { FormGroupContext } from '../FormGroup/FormGroup';\nimport { useWillUnmount } from '../utils';\nimport useRegisterModel from './useRegisterModel';\nimport Toggle from '../Toggle';\n/**\n * Props that FormControl passes to its accepter\n */\n\nvar FormControl = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _accepterProps;\n\n  var _useContext = useContext(FormContext),\n      readOnlyContext = _useContext.readOnly,\n      plaintextContext = _useContext.plaintext,\n      disabledContext = _useContext.disabled,\n      errorFromContext = _useContext.errorFromContext,\n      _useContext$formDefau = _useContext.formDefaultValue,\n      formDefaultValue = _useContext$formDefau === void 0 ? {} : _useContext$formDefau,\n      formError = _useContext.formError,\n      removeFieldValue = _useContext.removeFieldValue,\n      removeFieldError = _useContext.removeFieldError,\n      pushFieldRule = _useContext.pushFieldRule,\n      removeFieldRule = _useContext.removeFieldRule,\n      onFieldChange = _useContext.onFieldChange,\n      onFieldError = _useContext.onFieldError,\n      onFieldSuccess = _useContext.onFieldSuccess,\n      getCombinedModel = _useContext.getCombinedModel,\n      contextCheckTrigger = _useContext.checkTrigger;\n\n  var _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      _props$accepter = props.accepter,\n      AccepterComponent = _props$accepter === void 0 ? Input : _props$accepter,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'form-control' : _props$classPrefix,\n      checkAsync = props.checkAsync,\n      checkTrigger = props.checkTrigger,\n      _props$errorPlacement = props.errorPlacement,\n      errorPlacement = _props$errorPlacement === void 0 ? 'bottomStart' : _props$errorPlacement,\n      errorMessage = props.errorMessage,\n      name = props.name,\n      value = props.value,\n      _props$readOnly = props.readOnly,\n      readOnly = _props$readOnly === void 0 ? readOnlyContext : _props$readOnly,\n      _props$plaintext = props.plaintext,\n      plaintext = _props$plaintext === void 0 ? plaintextContext : _props$plaintext,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? disabledContext : _props$disabled,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      defaultValue = props.defaultValue,\n      _props$shouldResetWit = props.shouldResetWithUnmount,\n      shouldResetWithUnmount = _props$shouldResetWit === void 0 ? false : _props$shouldResetWit,\n      rule = props.rule,\n      rest = _objectWithoutPropertiesLoose(props, [\"as\", \"accepter\", \"classPrefix\", \"checkAsync\", \"checkTrigger\", \"errorPlacement\", \"errorMessage\", \"name\", \"value\", \"readOnly\", \"plaintext\", \"disabled\", \"onChange\", \"onBlur\", \"defaultValue\", \"shouldResetWithUnmount\", \"rule\"]);\n\n  var _useContext2 = useContext(FormGroupContext),\n      controlId = _useContext2.controlId;\n\n  if (!onFieldChange) {\n    throw new Error(\"\\n      <FormControl> must be inside a component decorated with <Form>.\\n      And need to update React to 16.6.0 +.\\n    \");\n  }\n\n  useRegisterModel(name, pushFieldRule, removeFieldRule, rule);\n  useWillUnmount(function () {\n    if (shouldResetWithUnmount) {\n      removeFieldValue === null || removeFieldValue === void 0 ? void 0 : removeFieldValue(name);\n      removeFieldError === null || removeFieldError === void 0 ? void 0 : removeFieldError(name);\n    }\n  });\n  var trigger = checkTrigger || contextCheckTrigger;\n  var formValue = useContext(FormValueContext);\n  var val = isUndefined(value) ? formValue === null || formValue === void 0 ? void 0 : formValue[name] : value;\n\n  var _useClassNames = useClassNames(classPrefix),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      prefix = _useClassNames.prefix;\n\n  var classes = withClassPrefix('wrapper');\n\n  var handleFieldChange = function handleFieldChange(value, event) {\n    handleFieldCheck(value, trigger === 'change');\n    onFieldChange === null || onFieldChange === void 0 ? void 0 : onFieldChange(name, value, event);\n    onChange === null || onChange === void 0 ? void 0 : onChange(value, event);\n  };\n\n  var handleFieldBlur = function handleFieldBlur(event) {\n    handleFieldCheck(val, trigger === 'blur');\n    onBlur === null || onBlur === void 0 ? void 0 : onBlur(event);\n  };\n\n  var handleFieldCheck = function handleFieldCheck(value, isCheckTrigger) {\n    var _extends2;\n\n    var callbackEvents = function callbackEvents(checkResult) {\n      // The relevant event is triggered only when the inspection is allowed.\n      if (isCheckTrigger) {\n        if (checkResult.hasError) {\n          onFieldError === null || onFieldError === void 0 ? void 0 : onFieldError(name, (checkResult === null || checkResult === void 0 ? void 0 : checkResult.errorMessage) || checkResult);\n        } else {\n          onFieldSuccess === null || onFieldSuccess === void 0 ? void 0 : onFieldSuccess(name);\n        }\n      }\n\n      return checkResult;\n    };\n\n    var nextFormValue = _extends({}, formValue, (_extends2 = {}, _extends2[name] = value, _extends2));\n\n    var model = getCombinedModel();\n\n    if (checkAsync) {\n      return model === null || model === void 0 ? void 0 : model.checkForFieldAsync(name, nextFormValue).then(function (checkResult) {\n        return callbackEvents(checkResult);\n      });\n    }\n\n    return Promise.resolve(callbackEvents(model === null || model === void 0 ? void 0 : model.checkForField(name, nextFormValue)));\n  };\n\n  var messageNode = null;\n\n  if (!isUndefined(errorMessage)) {\n    messageNode = errorMessage;\n  } else if (errorFromContext) {\n    var fieldError = formError === null || formError === void 0 ? void 0 : formError[name];\n\n    if (typeof fieldError === 'string' || !(fieldError !== null && fieldError !== void 0 && fieldError.array) && !(fieldError !== null && fieldError !== void 0 && fieldError.object) && fieldError !== null && fieldError !== void 0 && fieldError.hasError) {\n      messageNode = fieldError;\n    }\n  }\n\n  var ariaDescribedby = controlId ? controlId + \"-help-text\" : null;\n  var fieldHasError = Boolean(messageNode);\n  var ariaErrormessage = fieldHasError && controlId ? controlId + \"-error-message\" : undefined;\n  var valueKey = 'value';\n  var defaultValueKey = 'defaultValue'; // Toggle component is a special case that uses `checked` and `defaultChecked` instead of `value` and `defaultValue` props.\n\n  if (AccepterComponent === Toggle) {\n    valueKey = 'checked';\n    defaultValueKey = 'defaultChecked';\n  }\n\n  var accepterProps = (_accepterProps = {}, _accepterProps[valueKey] = val, _accepterProps[defaultValueKey] = defaultValue !== null && defaultValue !== void 0 ? defaultValue : formDefaultValue[name], _accepterProps);\n  return /*#__PURE__*/React.createElement(Component, {\n    className: classes,\n    ref: ref\n  }, /*#__PURE__*/React.createElement(AccepterComponent, _extends({\n    id: controlId,\n    \"aria-labelledby\": controlId ? controlId + \"-control-label\" : null,\n    \"aria-describedby\": ariaDescribedby,\n    \"aria-invalid\": fieldHasError || undefined,\n    \"aria-errormessage\": ariaErrormessage\n  }, accepterProps, rest, {\n    readOnly: readOnly,\n    plaintext: plaintext,\n    disabled: disabled,\n    name: name,\n    onChange: handleFieldChange,\n    onBlur: handleFieldBlur\n  })), /*#__PURE__*/React.createElement(FormErrorMessage, {\n    id: controlId + \"-error-message\",\n    role: \"alert\",\n    \"aria-relevant\": \"all\",\n    show: !!messageNode,\n    className: prefix(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"message-wrapper\"]))),\n    placement: errorPlacement\n  }, messageNode));\n});\nFormControl.displayName = 'FormControl';\nFormControl.propTypes = {\n  name: PropTypes.string.isRequired,\n  checkTrigger: PropTypes.oneOf(['change', 'blur', 'none']),\n  checkAsync: PropTypes.bool,\n  accepter: PropTypes.any,\n  onChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  classPrefix: PropTypes.string,\n  errorMessage: PropTypes.node,\n  errorPlacement: PropTypes.oneOf(['bottomStart', 'bottomEnd', 'topStart', 'topEnd', 'leftStart', 'rightStart', 'leftEnd', 'rightEnd']),\n  value: PropTypes.any\n};\nexport default FormControl;"]},"metadata":{},"sourceType":"module"}