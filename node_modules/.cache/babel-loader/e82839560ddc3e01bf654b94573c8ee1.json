{"ast":null,"code":"import { v1 } from \"uuid\";\nimport { socialMediaAPI } from \"../../api/socialMediaAPI\";\nconst profilePageState = {\n  profile: {},\n  posts: []\n};\n\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : profilePageState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"profilePage/SetUserProfile\":\n      {\n        return { ...state,\n          profile: action.profile\n        };\n      }\n\n    case \"profilePage/SetUserStatus\":\n      {\n        return { ...state,\n          profile: { ...state.profile,\n            status: action.status\n          }\n        };\n      }\n\n    default:\n      return state;\n  }\n}; //action creators\n\n\nexport const addPostAC = postText => {\n  return {\n    type: \"profilePage/AddPost\",\n    newPost: {\n      postId: v1(),\n      postText\n    }\n  };\n};\nexport const setUserProfileAC = profile => {\n  return {\n    type: \"profilePage/SetUserProfile\",\n    profile\n  };\n};\nexport const setUserStatusAC = status => {\n  return {\n    type: \"profilePage/SetUserStatus\",\n    status\n  };\n}; //thunk creators\n\nexport const setUserProfileTC = userId => async dispatch => {\n  socialMediaAPI.getUserProfile(userId).then(res => {\n    dispatch(setUserProfileAC(res.data));\n  });\n};\nexport const getUserStatusTC = userId => dispatch => {\n  socialMediaAPI.getUserStatus(userId).then(res => {\n    dispatch(setUserStatusAC(res.data));\n  }).catch(err => {\n    console.log(err);\n  });\n}; //types\n\nexport default profileReducer;","map":{"version":3,"sources":["/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/src/store/reducers/profileReducer.ts"],"names":["v1","socialMediaAPI","profilePageState","profile","posts","profileReducer","state","action","type","status","addPostAC","postText","newPost","postId","setUserProfileAC","setUserStatusAC","setUserProfileTC","userId","dispatch","getUserProfile","then","res","data","getUserStatusTC","getUserStatus","catch","err","console","log"],"mappings":"AACA,SAASA,EAAT,QAAmB,MAAnB;AACA,SAASC,cAAT,QAA+B,0BAA/B;AAEA,MAAMC,gBAAgB,GAAG;AACvBC,EAAAA,OAAO,EAAE,EADc;AAEvBC,EAAAA,KAAK,EAAE;AAFgB,CAAzB;;AAKA,MAAMC,cAAc,GAAG,YAGlB;AAAA,MAFHC,KAEG,uEAF2BJ,gBAE3B;AAAA,MADHK,MACG;;AACH,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,4BAAL;AAAmC;AACjC,eAAO,EACL,GAAGF,KADE;AAELH,UAAAA,OAAO,EAAEI,MAAM,CAACJ;AAFX,SAAP;AAID;;AACD,SAAK,2BAAL;AAAkC;AAChC,eAAO,EACL,GAAGG,KADE;AAELH,UAAAA,OAAO,EAAE,EACP,GAAGG,KAAK,CAACH,OADF;AAEPM,YAAAA,MAAM,EAAEF,MAAM,CAACE;AAFR;AAFJ,SAAP;AAOD;;AACD;AACE,aAAOH,KAAP;AAjBJ;AAmBD,CAvBD,C,CAyBA;;;AACA,OAAO,MAAMI,SAAS,GAAIC,QAAD,IAAsB;AAC7C,SAAO;AACLH,IAAAA,IAAI,EAAE,qBADD;AAELI,IAAAA,OAAO,EAAE;AAAEC,MAAAA,MAAM,EAAEb,EAAE,EAAZ;AAAgBW,MAAAA;AAAhB;AAFJ,GAAP;AAID,CALM;AAMP,OAAO,MAAMG,gBAAgB,GAAIX,OAAD,IAA8B;AAC5D,SAAO;AAAEK,IAAAA,IAAI,EAAE,4BAAR;AAAsCL,IAAAA;AAAtC,GAAP;AACD,CAFM;AAGP,OAAO,MAAMY,eAAe,GAAIN,MAAD,IAAoB;AACjD,SAAO;AAAED,IAAAA,IAAI,EAAE,2BAAR;AAAqCC,IAAAA;AAArC,GAAP;AACD,CAFM,C,CAIP;;AACA,OAAO,MAAMO,gBAAgB,GAC1BC,MAAD,IAAoB,MAAOC,QAAP,IAA8B;AAChDjB,EAAAA,cAAc,CAACkB,cAAf,CAA8BF,MAA9B,EAAsCG,IAAtC,CAA4CC,GAAD,IAAS;AAClDH,IAAAA,QAAQ,CAACJ,gBAAgB,CAACO,GAAG,CAACC,IAAL,CAAjB,CAAR;AACD,GAFD;AAGD,CALI;AAMP,OAAO,MAAMC,eAAe,GAAIN,MAAD,IAAqBC,QAAD,IAAwB;AACzEjB,EAAAA,cAAc,CACXuB,aADH,CACiBP,MADjB,EAEGG,IAFH,CAESC,GAAD,IAAS;AACbH,IAAAA,QAAQ,CAACH,eAAe,CAACM,GAAG,CAACC,IAAL,CAAhB,CAAR;AACD,GAJH,EAKGG,KALH,CAKUC,GAAD,IAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAPH;AAQD,CATM,C,CAWP;;AAqCA,eAAerB,cAAf","sourcesContent":["import { Dispatch } from \"redux\";\nimport { v1 } from \"uuid\";\nimport { socialMediaAPI } from \"../../api/socialMediaAPI\";\n\nconst profilePageState = {\n  profile: {},\n  posts: [],\n};\n\nconst profileReducer = (\n  state: ProfilePageStateType = profilePageState,\n  action: ActionsType\n) => {\n  switch (action.type) {\n    case \"profilePage/SetUserProfile\": {\n      return {\n        ...state,\n        profile: action.profile,\n      };\n    }\n    case \"profilePage/SetUserStatus\": {\n      return {\n        ...state,\n        profile: {\n          ...state.profile,\n          status: action.status,\n        },\n      };\n    }\n    default:\n      return state;\n  }\n};\n\n//action creators\nexport const addPostAC = (postText: string) => {\n  return {\n    type: \"profilePage/AddPost\",\n    newPost: { postId: v1(), postText },\n  } as const;\n};\nexport const setUserProfileAC = (profile: ProfileInfoType) => {\n  return { type: \"profilePage/SetUserProfile\", profile } as const;\n};\nexport const setUserStatusAC = (status: string) => {\n  return { type: \"profilePage/SetUserStatus\", status } as const;\n};\n\n//thunk creators\nexport const setUserProfileTC =\n  (userId: number) => async (dispatch: Dispatch) => {\n    socialMediaAPI.getUserProfile(userId).then((res) => {\n      dispatch(setUserProfileAC(res.data));\n    });\n  };\nexport const getUserStatusTC = (userId: number) => (dispatch: Dispatch) => {\n  socialMediaAPI\n    .getUserStatus(userId)\n    .then((res) => {\n      dispatch(setUserStatusAC(res.data));\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\n//types\ntype ProfilePageStateType = {\n  profile: ProfileInfoType;\n  posts: PostType[];\n};\n\nexport type ProfileInfoType = {\n  userId?: number;\n  lookingForAJob?: boolean;\n  lookingForAJobDescription?: string;\n  fullName?: string;\n  contacts?: {\n    github: string;\n    vk: string;\n    facebook: string;\n    instagram: string;\n    twitter: string;\n    website: string;\n    youtube: string;\n    mainLink: string;\n  };\n  photos?: {\n    small: string;\n    large: string;\n  };\n  status?: string;\n};\n\ntype PostType = {\n  postId: string;\n  postText: string;\n};\ntype SetUserProfileType = ReturnType<typeof setUserProfileAC>;\ntype SetUserStatusType = ReturnType<typeof setUserStatusAC>;\n\ntype ActionsType = SetUserProfileType | SetUserStatusType;\n\nexport default profileReducer;\n"]},"metadata":{},"sourceType":"module"}