{"ast":null,"code":"var _jsxFileName = \"/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/src/pages/UsersPage/UsersPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport s from \"./usersPage.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { currentPageChangerAC, followUserTC, getUsersTC, nextPagesPaginationAC, previousPagesPaginationAC, unfollowUserTC } from \"../../store/reducers/usersReducer\";\nimport { UilArrowLeft, UilArrowRight } from \"@iconscout/react-unicons\";\nimport { NavLink } from \"react-router-dom\";\nimport Preloader from \"../../shared/Preloader\";\nimport { SideBar } from \"../../components/SideBar/SideBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UsersPage = () => {\n  _s();\n\n  //getting data from redux\n  const usersPageData = useSelector(state => state.usersPage);\n  const dispatch = useDispatch(); //API \"get\" call for users\n\n  useEffect(() => {\n    dispatch(getUsersTC(usersPageData.currentPage, usersPageData.pageSize));\n  }, [dispatch, usersPageData.currentPage, usersPageData.pageSize]);\n  const usersForRender = usersPageData.users.items.map(user => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userPageUserCardContainer,\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        to: `profile/${user.id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.photos.large ? user.photos.large : \"https://uxwing.com/wp-content/themes/uxwing/download/peoples-avatars/corporate-user-icon.png\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.userPageCardButtonsContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.followButton,\n          onClick: () => followButtonHandler(user.followed, user.id),\n          disabled: user.followed ? true : false,\n          children: \"Follow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.unfollowButton,\n          onClick: () => unfollowButtonHandler(user.followed, user.id),\n          disabled: user.followed ? false : true,\n          children: \"Unfollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }); //pagination\n\n  const pagesForRender = usersPageData.paginationCount.map(page => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userPagePaginationItem,\n      onClick: () => changePageHandler(page),\n      children: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  });\n  const pagesCount = Math.ceil(usersPageData.totalUsersCount / usersPageData.pageSize);\n\n  const changePageHandler = page => {\n    dispatch(currentPageChangerAC(page));\n  };\n\n  const nextPages = () => {\n    dispatch(nextPagesPaginationAC(pagesCount));\n  };\n\n  const previousPages = () => {\n    dispatch(previousPagesPaginationAC(pagesCount));\n  }; //follow / unfollow\n\n\n  const followButtonHandler = (isFollowed, userId) => {\n    dispatch(followUserTC(userId));\n  };\n\n  const unfollowButtonHandler = (isFollowed, userId) => {\n    dispatch(unfollowUserTC(userId));\n  };\n\n  return usersPageData.isFetching ? /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.userPageContainer,\n    children: [/*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.userPageUsersListContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: usersForRender\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.userPagePaginationContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.userPagePaginationChangeButton,\n          onClick: previousPages,\n          children: /*#__PURE__*/_jsxDEV(UilArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), pagesForRender, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.userPagePaginationChangeButton,\n          onClick: nextPages,\n          children: /*#__PURE__*/_jsxDEV(UilArrowRight, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UsersPage, \"Gk/M3zRD8a3uFewu5WqVluEnTh4=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = UsersPage;\nexport default UsersPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersPage\");","map":{"version":3,"sources":["/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/src/pages/UsersPage/UsersPage.tsx"],"names":["React","useEffect","s","useDispatch","useSelector","currentPageChangerAC","followUserTC","getUsersTC","nextPagesPaginationAC","previousPagesPaginationAC","unfollowUserTC","UilArrowLeft","UilArrowRight","NavLink","Preloader","SideBar","UsersPage","usersPageData","state","usersPage","dispatch","currentPage","pageSize","usersForRender","users","items","map","user","userPageUserCardContainer","id","photos","large","name","userPageCardButtonsContainer","followButton","followButtonHandler","followed","unfollowButton","unfollowButtonHandler","pagesForRender","paginationCount","page","userPagePaginationItem","changePageHandler","pagesCount","Math","ceil","totalUsersCount","nextPages","previousPages","isFollowed","userId","isFetching","userPageContainer","userPageUsersListContainer","userPagePaginationContainer","userPagePaginationChangeButton"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport s from \"./usersPage.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"../../store/store\";\nimport {\n  UserPageType,\n  currentPageChangerAC,\n  followUserAC,\n  followUserTC,\n  getUsersTC,\n  nextPagesPaginationAC,\n  previousPagesPaginationAC,\n  setTotalUsersCount,\n  setUsersAC,\n  unfollowUserAC,\n  unfollowUserTC,\n} from \"../../store/reducers/usersReducer\";\nimport { Button } from \"../../shared/Button\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { UilArrowLeft, UilArrowRight } from \"@iconscout/react-unicons\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSessionStorage } from \"usehooks-ts\";\nimport Preloader from \"../../shared/Preloader\";\nimport { SideBar } from \"../../components/SideBar/SideBar\";\n\nconst UsersPage = () => {\n  //getting data from redux\n  const usersPageData = useSelector<RootState, UserPageType>(\n    (state) => state.usersPage\n  );\n  const dispatch = useDispatch();\n\n  //API \"get\" call for users\n  useEffect(() => {\n    dispatch(getUsersTC(usersPageData.currentPage, usersPageData.pageSize));\n  }, [dispatch, usersPageData.currentPage, usersPageData.pageSize]);\n\n  const usersForRender = usersPageData.users.items.map((user) => {\n    return (\n      <div className={s.userPageUserCardContainer}>\n        <NavLink to={`profile/${user.id}`}>\n          <img\n            src={\n              user.photos.large\n                ? user.photos.large\n                : \"https://uxwing.com/wp-content/themes/uxwing/download/peoples-avatars/corporate-user-icon.png\"\n            }\n            alt=\"\"\n          />\n        </NavLink>\n        <h3>{user.name}</h3>\n        <div className={s.userPageCardButtonsContainer}>\n          <button\n            className={s.followButton}\n            onClick={() => followButtonHandler(user.followed, user.id)}\n            disabled={user.followed ? true : false}\n          >\n            Follow\n          </button>\n          <button\n            className={s.unfollowButton}\n            onClick={() => unfollowButtonHandler(user.followed, user.id)}\n            disabled={user.followed ? false : true}\n          >\n            Unfollow\n          </button>\n        </div>\n      </div>\n    );\n  });\n\n  //pagination\n  const pagesForRender = usersPageData.paginationCount.map((page) => {\n    return (\n      <div\n        className={s.userPagePaginationItem}\n        onClick={() => changePageHandler(page)}\n      >\n        {page}\n      </div>\n    );\n  });\n\n  const pagesCount = Math.ceil(\n    usersPageData.totalUsersCount / usersPageData.pageSize\n  );\n\n  const changePageHandler = (page: number) => {\n    dispatch(currentPageChangerAC(page));\n  };\n\n  const nextPages = () => {\n    dispatch(nextPagesPaginationAC(pagesCount));\n  };\n  const previousPages = () => {\n    dispatch(previousPagesPaginationAC(pagesCount));\n  };\n\n  //follow / unfollow\n  const followButtonHandler = (isFollowed: boolean, userId: number) => {\n    dispatch(followUserTC(userId));\n  };\n  const unfollowButtonHandler = (isFollowed: boolean, userId: number) => {\n    dispatch(unfollowUserTC(userId));\n  };\n\n  return usersPageData.isFetching ? (\n    <Preloader />\n  ) : (\n    <div className={s.userPageContainer}>\n      <SideBar />\n      <div className={s.userPageUsersListContainer}>\n        <div>{usersForRender}</div>\n        <div className={s.userPagePaginationContainer}>\n          <div\n            className={s.userPagePaginationChangeButton}\n            onClick={previousPages}\n          >\n            <UilArrowLeft />\n          </div>\n          {pagesForRender}\n          <div className={s.userPagePaginationChangeButton} onClick={nextPages}>\n            <UilArrowRight />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UsersPage;\n"]},"metadata":{},"sourceType":"module"}