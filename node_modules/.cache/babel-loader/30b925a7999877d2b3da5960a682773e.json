{"ast":null,"code":"import { useEffect, useState } from 'react';\nconst cachedScriptStatuses = {};\n\nfunction getScriptNode(src) {\n  const node = document.querySelector(`script[src=\"${src}\"]`);\n  const status = node === null || node === void 0 ? void 0 : node.getAttribute('data-status');\n  return {\n    node,\n    status\n  };\n}\n\nfunction useScript(src, options) {\n  const [status, setStatus] = useState(() => {\n    var _a;\n\n    if (!src || (options === null || options === void 0 ? void 0 : options.shouldPreventLoad)) {\n      return 'idle';\n    }\n\n    if (typeof window === 'undefined') {\n      return 'loading';\n    }\n\n    return (_a = cachedScriptStatuses[src]) !== null && _a !== void 0 ? _a : 'loading';\n  });\n  useEffect(() => {\n    var _a, _b;\n\n    if (!src || (options === null || options === void 0 ? void 0 : options.shouldPreventLoad)) {\n      return;\n    }\n\n    const cachedScriptStatus = cachedScriptStatuses[src];\n\n    if (cachedScriptStatus === 'ready' || cachedScriptStatus === 'error') {\n      setStatus(cachedScriptStatus);\n      return;\n    }\n\n    const script = getScriptNode(src);\n    let scriptNode = script.node;\n\n    if (!scriptNode) {\n      scriptNode = document.createElement('script');\n      scriptNode.src = src;\n      scriptNode.async = true;\n      scriptNode.setAttribute('data-status', 'loading');\n      document.body.appendChild(scriptNode);\n\n      const setAttributeFromEvent = event => {\n        const scriptStatus = event.type === 'load' ? 'ready' : 'error';\n        scriptNode === null || scriptNode === void 0 ? void 0 : scriptNode.setAttribute('data-status', scriptStatus);\n      };\n\n      scriptNode.addEventListener('load', setAttributeFromEvent);\n      scriptNode.addEventListener('error', setAttributeFromEvent);\n    } else {\n      setStatus((_b = (_a = script.status) !== null && _a !== void 0 ? _a : cachedScriptStatus) !== null && _b !== void 0 ? _b : 'loading');\n    }\n\n    const setStateFromEvent = event => {\n      const newStatus = event.type === 'load' ? 'ready' : 'error';\n      setStatus(newStatus);\n      cachedScriptStatuses[src] = newStatus;\n    };\n\n    scriptNode.addEventListener('load', setStateFromEvent);\n    scriptNode.addEventListener('error', setStateFromEvent);\n    return () => {\n      if (scriptNode) {\n        scriptNode.removeEventListener('load', setStateFromEvent);\n        scriptNode.removeEventListener('error', setStateFromEvent);\n      }\n\n      if (scriptNode && (options === null || options === void 0 ? void 0 : options.removeOnUnmount)) {\n        scriptNode.remove();\n      }\n    };\n  }, [src, options === null || options === void 0 ? void 0 : options.shouldPreventLoad, options === null || options === void 0 ? void 0 : options.removeOnUnmount]);\n  return status;\n}\n\nexport default useScript;","map":{"version":3,"sources":["/Users/danilnagovicyn/Desktop/reactprojects/Incubator/Samurai_way/samurai-way/node_modules/usehooks-ts/dist/esm/useScript/useScript.js"],"names":["useEffect","useState","cachedScriptStatuses","getScriptNode","src","node","document","querySelector","status","getAttribute","useScript","options","setStatus","_a","shouldPreventLoad","window","_b","cachedScriptStatus","script","scriptNode","createElement","async","setAttribute","body","appendChild","setAttributeFromEvent","event","scriptStatus","type","addEventListener","setStateFromEvent","newStatus","removeEventListener","removeOnUnmount","remove"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nconst cachedScriptStatuses = {};\nfunction getScriptNode(src) {\n    const node = document.querySelector(`script[src=\"${src}\"]`);\n    const status = node === null || node === void 0 ? void 0 : node.getAttribute('data-status');\n    return {\n        node,\n        status,\n    };\n}\nfunction useScript(src, options) {\n    const [status, setStatus] = useState(() => {\n        var _a;\n        if (!src || (options === null || options === void 0 ? void 0 : options.shouldPreventLoad)) {\n            return 'idle';\n        }\n        if (typeof window === 'undefined') {\n            return 'loading';\n        }\n        return (_a = cachedScriptStatuses[src]) !== null && _a !== void 0 ? _a : 'loading';\n    });\n    useEffect(() => {\n        var _a, _b;\n        if (!src || (options === null || options === void 0 ? void 0 : options.shouldPreventLoad)) {\n            return;\n        }\n        const cachedScriptStatus = cachedScriptStatuses[src];\n        if (cachedScriptStatus === 'ready' || cachedScriptStatus === 'error') {\n            setStatus(cachedScriptStatus);\n            return;\n        }\n        const script = getScriptNode(src);\n        let scriptNode = script.node;\n        if (!scriptNode) {\n            scriptNode = document.createElement('script');\n            scriptNode.src = src;\n            scriptNode.async = true;\n            scriptNode.setAttribute('data-status', 'loading');\n            document.body.appendChild(scriptNode);\n            const setAttributeFromEvent = (event) => {\n                const scriptStatus = event.type === 'load' ? 'ready' : 'error';\n                scriptNode === null || scriptNode === void 0 ? void 0 : scriptNode.setAttribute('data-status', scriptStatus);\n            };\n            scriptNode.addEventListener('load', setAttributeFromEvent);\n            scriptNode.addEventListener('error', setAttributeFromEvent);\n        }\n        else {\n            setStatus((_b = (_a = script.status) !== null && _a !== void 0 ? _a : cachedScriptStatus) !== null && _b !== void 0 ? _b : 'loading');\n        }\n        const setStateFromEvent = (event) => {\n            const newStatus = event.type === 'load' ? 'ready' : 'error';\n            setStatus(newStatus);\n            cachedScriptStatuses[src] = newStatus;\n        };\n        scriptNode.addEventListener('load', setStateFromEvent);\n        scriptNode.addEventListener('error', setStateFromEvent);\n        return () => {\n            if (scriptNode) {\n                scriptNode.removeEventListener('load', setStateFromEvent);\n                scriptNode.removeEventListener('error', setStateFromEvent);\n            }\n            if (scriptNode && (options === null || options === void 0 ? void 0 : options.removeOnUnmount)) {\n                scriptNode.remove();\n            }\n        };\n    }, [src, options === null || options === void 0 ? void 0 : options.shouldPreventLoad, options === null || options === void 0 ? void 0 : options.removeOnUnmount]);\n    return status;\n}\nexport default useScript;\n"]},"metadata":{},"sourceType":"module"}